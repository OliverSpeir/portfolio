---
import "@assets/styles/posts.css";
import { getCollection } from "astro:content";
import Layout from "@layouts/PageLayout.astro";
import "@assets/styles/remark-callout-directives.css";
import ThemeButton from "@components/ThemeButton.astro";
import PostHeader from "@components/PostHeader.astro";
export const getStaticPaths = async () => {
	const posts = await getCollection("blog");
	return posts.map((post) => ({
		params: { slug: post.slug },
		props: { post },
	}));
};
const { post } = Astro.props;
const {
	data: { title, description, date },
} = post;
const { Content, remarkPluginFrontmatter, headings } = await post.render();
const { lastModified, minutesRead } = remarkPluginFrontmatter;

import TOC from "@components/TOC.astro";
---

<Layout {title} {description} {post}>
	<header>
		<div class="flex items-center justify-between">
			<div class="flex items-center">
				<ThemeButton />
				<nav><a href="/">Homepage</a> <a href="/garden/">Garden</a></nav>
			</div>
		</div>
	</header>
	<article class="mx-auto mt-2 flex max-w-[34rem] flex-col sm:mt-0">
		<PostHeader {title} {lastModified} {date} {minutesRead} />
		<Content />
	</article>
</Layout>
